2025-08-04 17:48:32,751 - root - INFO - Virtual environment already exists. Skipping setup.
2025-08-04 17:48:32,751 - __main__ - INFO - Using database configuration from db_config.txt
2025-08-04 17:48:32,753 - parcel_filter.core.db_utils - INFO - Connected to PostgreSQL database
2025-08-04 17:48:32,804 - parcel_filter.core.filter - INFO - Found 2 available states: ['az', 'co']
2025-08-04 17:48:34,624 - __main__ - INFO - Selected state: az
2025-08-04 17:48:34,627 - parcel_filter.core.filter - INFO - Found 1 available counties for state az: ['maricopa']
2025-08-04 17:48:35,830 - __main__ - INFO - Selected county: maricopa
2025-08-04 17:48:35,833 - parcel_filter.core.db_utils - INFO - Connected to PostgreSQL database
2025-08-04 17:48:40,266 - parcel_filter.core.filter - INFO - Found 10 unique power operators
2025-08-04 17:48:40,267 - parcel_filter.core.filter - INFO - Available operators in data: ['~unknown~', 'Arizona Public Service Company', 'California Independent System Operator', 'City of Mesa - (AZ)', 'Intermountain Power Service Corporation', 'Salt River Project', 'San Diego Gas & Electric', 'Southern California Edison', 'Tucson Electric Power Co.', 'Western Area Power Administration']
2025-08-04 17:48:42,319 - __main__ - INFO - Selected power provider: None
2025-08-04 17:48:42,319 - __main__ - INFO - Step 1: Loading parcels...
2025-08-04 17:48:42,880 - parcel_filter.core.filter - INFO - Unwanted activities columns: ['Land Use', 'Unwanted']
2025-08-04 17:48:42,880 - parcel_filter.core.filter - INFO - Unique values in 'Unwanted' column: [ True False]
2025-08-04 17:48:42,881 - parcel_filter.core.filter - INFO - Loaded 17 unwanted activities from Google Sheets
2025-08-04 17:48:43,813 - parcel_filter.core.filter - INFO - Parcel count in parcels_filtered_initial: 4533
2025-08-04 17:48:44,026 - parcel_filter.core.filter - INFO - Parcel count after initial filtering: 4533
2025-08-04 17:48:44,026 - parcel_filter.core.filter - INFO - Loaded 4533 parcels after initial filtering
2025-08-04 17:48:44,026 - __main__ - INFO - Step 2: Applying filters...
2025-08-04 17:48:44,026 - parcel_filter.core.filter - INFO - Filtering parcels that intersect with airports...
2025-08-04 17:48:44,174 - parcel_filter.core.filter - INFO - Created temporary parcels_filtered_airports_1754347724 with 4488 rows
2025-08-04 17:48:44,174 - parcel_filter.core.filter - INFO - Parcel count after airport filtering: 4488
2025-08-04 17:48:44,174 - parcel_filter.core.filter - INFO - After airport filtering: 4488 parcels
2025-08-04 17:48:44,175 - parcel_filter.core.filter - INFO - Filtering parcels based on transmission line distance...
2025-08-04 17:48:44,256 - parcel_filter.core.filter - INFO - Created temporary parcels_filtered_transmission_1754347724 with 2671 rows
2025-08-04 17:48:44,256 - parcel_filter.core.filter - INFO - Parcel count after transmission line filtering: 2671
2025-08-04 17:48:54,146 - parcel_filter.core.filter - INFO - Filtering parcels based on roadway distance: 100.0 meters
2025-08-04 17:48:54,189 - parcel_filter.core.filter - INFO - Created temporary parcels_filtered_roadway_1754347734 with 209 rows
2025-08-04 17:48:54,189 - parcel_filter.core.filter - INFO - Parcel count after roadway distance filtering: 209
2025-08-04 17:48:54,190 - __main__ - INFO - Step 3: Calculating drive times...
2025-08-04 17:48:54,190 - parcel_filter.core.filter - INFO - Loading isochrone data from database
2025-08-04 17:48:55,005 - parcel_filter.core.filter - INFO - Loaded 3 isochrone polygons
2025-08-04 17:48:55,005 - parcel_filter.core.filter - INFO - Calculating drive times...
2025-08-04 17:51:58,178 - parcel_filter.core.filter - INFO - Drive time calculation completed
2025-08-04 17:51:58,181 - __main__ - INFO - Step 4: Ranking parcels...
2025-08-04 17:51:58,763 - parcel_filter.core.mcda_ranking - INFO - Successfully loaded ranking data with 30 rows
2025-08-04 17:51:58,764 - parcel_filter.core.mcda_ranking - INFO - Loaded weights: {'zoning': 0.2, 'zoning_subtype': 0.15, 'activity': 0.1, 'site': 0.1, 'ownership': 0.1, 'fema_nri': 0.15, 'flood_zone': 0.1, 'flood_subtype': 0.1}
2025-08-04 17:51:58,783 - parcel_filter.core.mcda_ranking - INFO - Created all ranking lookup tables
2025-08-04 17:51:58,829 - parcel_filter.core.mcda_ranking - INFO - Created MCDA ranking table: results.az_maricopa_all_providers_20250804_175158
2025-08-04 17:51:58,864 - parcel_filter.core.filter - INFO - MCDA Ranking Statistics:
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -   Total parcels: 209
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -   Min score: 0.00
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -   Max score: 10.00
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -   Mean score: 6.27
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -   Median score: 7.16
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -   Standard deviation: 1.77
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO - Top 5 parcels by MCDA ranking:
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -   1. Parcel 20310005: Score 10.00
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -      Zoning: Mixed
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -      Activity: None
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -   2. Parcel 50350670: Score 9.44
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -      Zoning: Residential
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -      Activity: None
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -   3. Parcel 20310006: Score 7.93
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -      Zoning: Mixed
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -      Activity: None
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -   4. Parcel 40165040B: Score 7.88
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -      Zoning: Commercial
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -      Activity: None
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -   5. Parcel 40164008L: Score 7.86
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -      Zoning: Industrial
2025-08-04 17:51:58,865 - parcel_filter.core.filter - INFO -      Activity: None
2025-08-04 17:51:58,866 - __main__ - INFO - Step 5: Saving results...
2025-08-04 17:51:58,866 - parcel_filter.core.filter - INFO - Results already saved to permanent table: results.az_maricopa_all_providers_20250804_175158
2025-08-04 17:51:58,866 - __main__ - INFO - Step 6: Cleaning up temporary data...
2025-08-04 17:51:58,867 - parcel_filter.core.filter - INFO - Cleaned up temporary table: parcels_filtered_roadway_1754347734
2025-08-04 17:51:58,868 - __main__ - INFO - ============================================================
2025-08-04 17:51:58,868 - __main__ - INFO - ðŸŽ¯ FINAL RESULTS: 209 parcels identified and ranked
2025-08-04 17:51:58,868 - __main__ - INFO - ============================================================
2025-08-04 17:51:58,868 - __main__ - INFO - ðŸ“Š FILTERING SUMMARY:
2025-08-04 17:51:58,868 - __main__ - INFO -   State: AZ
2025-08-04 17:51:58,868 - __main__ - INFO -   County: Maricopa
2025-08-04 17:51:58,868 - __main__ - INFO -   Transmission Distance: 100.0 meters
2025-08-04 17:51:58,868 - __main__ - INFO -   Power Provider: All providers
2025-08-04 17:51:58,868 - __main__ - INFO -   Results Table: results.az_maricopa_all_providers_20250804_175158
2025-08-04 17:51:58,868 - __main__ - INFO - PIPELINE COMPLETED SUCCESSFULLY
