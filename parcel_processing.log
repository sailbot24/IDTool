2025-08-07 08:58:10,816 - root - INFO - Virtual environment already exists. Skipping setup.
2025-08-07 08:58:10,816 - __main__ - INFO - Using database configuration from db_config.txt
2025-08-07 08:58:10,818 - parcel_filter.core.db_utils - INFO - Connected to PostgreSQL database
2025-08-07 08:58:10,878 - parcel_filter.core.filter - INFO - Found 2 available states: ['az', 'co']
2025-08-07 08:58:14,526 - __main__ - INFO - Selected state: az
2025-08-07 08:58:14,528 - parcel_filter.core.filter - INFO - Found 1 available counties for state az: ['maricopa']
2025-08-07 08:58:15,955 - __main__ - INFO - Selected county: maricopa
2025-08-07 08:58:15,956 - parcel_filter.core.db_utils - INFO - Connected to PostgreSQL database
2025-08-07 08:58:22,956 - parcel_filter.core.filter - INFO - Found 10 unique power operators
2025-08-07 08:58:22,956 - parcel_filter.core.filter - INFO - Available operators in data: ['~unknown~', 'Arizona Public Service Company', 'California Independent System Operator', 'City of Mesa - (AZ)', 'Intermountain Power Service Corporation', 'Salt River Project', 'San Diego Gas & Electric', 'Southern California Edison', 'Tucson Electric Power Co.', 'Western Area Power Administration']
2025-08-07 08:58:24,794 - __main__ - INFO - Selected power provider: None
2025-08-07 08:58:24,794 - __main__ - INFO - Step 1: Loading parcels...
2025-08-07 08:58:25,426 - parcel_filter.core.filter - INFO - Unwanted activities columns: ['Land Use', 'Unwanted', 'Ownership', 'Unwanted.1']
2025-08-07 08:58:25,429 - parcel_filter.core.filter - INFO - Unique values in 'Unwanted' column: [ True False]
2025-08-07 08:58:25,431 - parcel_filter.core.filter - INFO - Unique values in 'Unwanted.1' column: [False nan]
2025-08-07 08:58:25,431 - parcel_filter.core.filter - INFO - Loaded 17 unwanted activities/ownerships from Google Sheets
2025-08-07 08:58:28,228 - parcel_filter.core.filter - INFO - Parcel count in parcels_filtered_initial: 4545
2025-08-07 08:58:28,501 - parcel_filter.core.filter - INFO - Parcel count after initial filtering: 4545
2025-08-07 08:58:28,501 - parcel_filter.core.filter - INFO - Loaded 4545 parcels after initial filtering
2025-08-07 08:58:28,501 - __main__ - INFO - Step 2: Applying filters...
2025-08-07 08:58:28,501 - parcel_filter.core.filter - INFO - Filtering parcels that intersect with airports...
2025-08-07 08:58:28,653 - parcel_filter.core.filter - INFO - Created temporary parcels_filtered_airports_1754575108 with 4500 rows
2025-08-07 08:58:28,653 - parcel_filter.core.filter - INFO - Parcel count after airport filtering: 4500
2025-08-07 08:58:28,653 - parcel_filter.core.filter - INFO - After airport filtering: 4500 parcels
2025-08-07 08:58:28,653 - parcel_filter.core.filter - INFO - Filtering parcels based on transmission line distance...
2025-08-07 08:58:28,741 - parcel_filter.core.filter - INFO - Created temporary parcels_filtered_transmission_1754575108 with 2680 rows
2025-08-07 08:58:28,741 - parcel_filter.core.filter - INFO - Parcel count after transmission line filtering: 2680
2025-08-07 08:58:34,421 - parcel_filter.core.filter - INFO - Filtering parcels based on roadway distance: 150.0 meters
2025-08-07 08:58:34,468 - parcel_filter.core.filter - INFO - Created temporary parcels_filtered_roadway_1754575114 with 242 rows
2025-08-07 08:58:34,468 - parcel_filter.core.filter - INFO - Parcel count after roadway distance filtering: 242
2025-08-07 08:58:34,468 - __main__ - INFO - Step 3: Calculating drive times...
2025-08-07 08:58:34,468 - parcel_filter.core.filter - INFO - Loading isochrone data from database
2025-08-07 08:58:35,289 - parcel_filter.core.filter - INFO - Loaded 3 isochrone polygons
2025-08-07 08:58:35,289 - parcel_filter.core.filter - INFO - Calculating drive times...
2025-08-07 09:01:32,358 - parcel_filter.core.filter - INFO - Drive time calculation completed
2025-08-07 09:01:32,361 - __main__ - INFO - Step 4: Ranking parcels...
2025-08-07 09:01:32,932 - parcel_filter.core.mcda_ranking - INFO - Successfully loaded ranking data with 17 rows
2025-08-07 09:01:32,932 - parcel_filter.core.mcda_ranking - INFO - Loaded weights: {'zoning': 0.25, 'description': 0.25, 'fema_nri': 0.25, 'flood': 0.25}
2025-08-07 09:01:32,952 - parcel_filter.core.mcda_ranking - INFO - Created all ranking lookup tables
2025-08-07 09:01:33,008 - parcel_filter.core.mcda_ranking - INFO - Created MCDA ranking table: results.az_maricopa_all_providers_20250807_090132
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO - MCDA Ranking Statistics:
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -   Total parcels: 242
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -   Min score: 0.00
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -   Max score: 10.00
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -   Mean score: 6.74
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -   Median score: 7.50
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -   Standard deviation: 1.70
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO - Top 5 parcels by MCDA ranking:
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -   1. Parcel 50305015L: Score 10.00
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -      Zoning: Mixed
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -      Site Description: None
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -   2. Parcel 50302023B: Score 10.00
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -      Zoning: Mixed
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -      Site Description: None
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -   3. Parcel 50307009C: Score 10.00
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -      Zoning: Mixed
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -      Site Description: None
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -   4. Parcel 20310005: Score 10.00
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -      Zoning: Mixed
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -      Site Description: None
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -   5. Parcel 50350670: Score 10.00
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -      Zoning: Residential
2025-08-07 09:01:33,062 - parcel_filter.core.filter - INFO -      Site Description: None
2025-08-07 09:01:33,067 - parcel_filter.core.filter - INFO - Ranking results saved to CSV: results/az_maricopa_all_providers_20250807_090133.csv
2025-08-07 09:01:33,067 - parcel_filter.core.filter - INFO - Final results log saved to: results/az_maricopa_all_providers_20250807_090133.log
2025-08-07 09:01:33,069 - __main__ - INFO - Step 5: Saving results...
2025-08-07 09:01:33,069 - parcel_filter.core.filter - INFO - Results already saved to permanent table: results.az_maricopa_all_providers_20250807_090132
2025-08-07 09:01:33,069 - __main__ - INFO - Step 6: Cleaning up temporary data...
2025-08-07 09:01:33,069 - parcel_filter.core.filter - INFO - Cleaned up temporary table: parcels_filtered_roadway_1754575114
2025-08-07 09:01:33,070 - __main__ - INFO - ============================================================
2025-08-07 09:01:33,070 - __main__ - INFO - ðŸŽ¯ FINAL RESULTS: 242 parcels identified and ranked
2025-08-07 09:01:33,070 - __main__ - INFO - ============================================================
2025-08-07 09:01:33,070 - __main__ - INFO - ðŸ“Š FILTERING SUMMARY:
2025-08-07 09:01:33,070 - __main__ - INFO -   State: AZ
2025-08-07 09:01:33,070 - __main__ - INFO -   County: Maricopa
2025-08-07 09:01:33,070 - __main__ - INFO -   Transmission Distance: 100.0 meters
2025-08-07 09:01:33,070 - __main__ - INFO -   Power Provider: All providers
2025-08-07 09:01:33,070 - __main__ - INFO -   Results Table: results.az_maricopa_all_providers_20250807_090132
2025-08-07 09:01:33,070 - __main__ - INFO - PIPELINE COMPLETED SUCCESSFULLY
